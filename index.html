<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRADE ARMY V1 | STABLE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #08090d; color: #d1d4dc; font-family: sans-serif; overflow: hidden; height: 100vh; margin: 0; }
        
        /* GİRİŞ EKRANI */
        #login-overlay { position: fixed; inset: 0; background: #08090d; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .login-card { background: #131722; padding: 40px; border-radius: 20px; border: 1px solid #2962ff; text-align: center; max-width: 400px; width: 90%; }
        
        /* ANA TERMİNAL */
        #main-terminal { display: none; flex-direction: column; height: 100vh; }
        .header { height: 60px; background: #131722; border-bottom: 1px solid #2a2e39; display: flex; align-items: center; justify-content: space-between; padding: 0 15px; }
        .chart-grid { flex: 1; display: grid; gap: 1px; background: #1e222d; }
        
        .profile-area { display: flex; align-items: center; background: #1e222d; padding: 5px 12px; border-radius: 30px; border: 1px solid #363a45; }
        .dot { width: 8px; height: 8px; background: #22c55e; border-radius: 50%; margin-right: 8px; box-shadow: 0 0 8px #22c55e; }
        
        iframe { border: none !important; }
    </style>
</head>
<body>

    <div id="login-overlay">
        <div class="login-card">
            <h1 class="text-3xl font-black italic text-white uppercase tracking-tighter mb-4">TRADE ARMY <span class="text-blue-500 text-sm">V1</span></h1>
            <p class="text-gray-400 text-xs mb-8 uppercase tracking-widest">Senkronizasyon İçin Giriş Yapın</p>
            
            <button onclick="window.open('https://www.tradingview.com/accounts/signin/', '_blank')" class="w-full bg-blue-600 text-white font-bold py-4 rounded-xl mb-3 shadow-lg">
                1. TRADINGVIEW GİRİŞ
            </button>
            
            <button onclick="unlock()" class="w-full bg-gray-800 text-white font-bold py-4 rounded-xl text-xs uppercase tracking-widest border border-white/10">
                2. TERMİNALİ BAŞLAT
            </button>
        </div>
    </div>

    <div id="main-terminal">
        <header class="header">
            <div class="flex items-center space-x-3">
                <span class="text-white font-black italic tracking-tighter text-xl italic uppercase">Trade Army</span>
                <div class="flex bg-black/40 p-1 rounded border border-white/5">
                    <button onclick="setGrid(1)" class="px-3 py-1 text-xs font-bold text-gray-500">1</button>
                    <button onclick="setGrid(4)" class="px-3 py-1 text-xs font-bold text-blue-500">4</button>
                </div>
            </div>

            <div class="profile-area">
                <div class="dot"></div>
                <span class="text-[10px] text-white font-bold uppercase tracking-tighter">ICT PRO AKTİF</span>
            </div>
        </header>

        <main id="chart-container" class="chart-grid grid-cols-2 grid-rows-2">
            <div id="box_1" class="w-full h-full"></div>
            <div id="box_2" class="w-full h-full"></div>
            <div id="box_3" class="w-full h-full"></div>
            <div id="box_4" class="w-full h-full"></div>
        </main>
    </div>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        function unlock() {
            document.getElementById('login-overlay').style.display = 'none';
            document.getElementById('main-terminal').style.display = 'flex';
            setGrid(4);
        }

        function setGrid(n) {
            const grid = document.getElementById('chart-container');
            const symbols = ['CAPITALCOM:US100', 'FX:EURUSD', 'FX:GBPUSD', 'TVC:GOLD'];
            
            grid.className = (n === 1) ? "chart-grid grid-cols-1 grid-rows-1" : "chart-grid grid-cols-2 grid-rows-2";

            for(let i=1; i<=4; i++) {
                const container = document.getElementById('box_'+i);
                if(i <= n) {
                    container.style.display = 'block';
                    new TradingView.widget({
                        "autosize": true,
                        "symbol": symbols[i-1],
                        "interval": "1",
                        "theme": "dark",
                        "style": "1",
                        "locale": "tr",
                        "toolbar_bg": "#131722",
                        "enable_publishing": false,
                        "hide_side_toolbar": false,
                        "allow_symbol_change": true,
                        "container_id": "box_"+i,
                        "remember_last_used_chart": true,
                        "charts_storage_url": "https://saveload.tradingview.com",
                        "charts_storage_api_version": "1.1",
                        "client_id": "tradingview.com",
                        "user_id": "public_user_id",
                        "enabled_features": ["header_saveload", "auto_save_and_load_chart", "header_indicators", "header_resolutions"]
                    });
                } else {
                    container.style.display = 'none';
                    container.innerHTML = "";
                }
            }
        }
    </script>
</body>
</html>
